# F3. "I want each path linked to its metadata"

## Value

Symlinks let you locate metadata for a given path without searching.

---

## Usage

When the container indexes your files, each file path appears under `metadata/by-path/<relative-path>` as a symlink to that file's metadata directory under `by-id`.

---

## Minimal `docker-compose.yml`

```yaml
services:
  home-index:
    image: ghcr.io/nashspence/home-index:latest
    environment:
      - CRON_EXPRESSION=* * * * * *
      - METADATA_DIRECTORY=/home-index/metadata
    volumes:
      - ./input:/files:ro
      - ./output:/home-index
    depends_on:
      - meilisearch
  meilisearch:
    image: getmeili/meilisearch:latest
    volumes:
      - ./output/meili:/meili_data
```

---

## User Testing

```bash
mkdir -p input output
echo "hello" > input/hello.txt
IMAGE=ghcr.io/nashspence/home-index:latest docker compose up -d
```

After the first sync completes, inspect `output/metadata/by-path/` to see symlinks pointing to directories under `output/metadata/by-id/`.

---

## Input â†” Output

| **Your single action** | **What you will literally see** |
| --- | --- |
| Run `docker compose up -d` with at least one file in `./input/` | A symlink appears under `./output/metadata/by-path/` for each file path, pointing to its metadata directory in `by-id/`. |

---

## Acceptance

1. With at least one file in `./input/`, the first sync creates a symlink under `./output/metadata/by-path/` for every path listed in the document.
2. Each symlink resolves to a directory under `./output/metadata/by-id/` containing `document.json`.

